package me.leeeaf.oakclient.systems.modules.exploit;

import me.leeeaf.oakclient.event.EventPriority;
import me.leeeaf.oakclient.event.EventSubscribe;
import me.leeeaf.oakclient.event.events.PacketEvent;
import me.leeeaf.oakclient.systems.modules.Category;
import me.leeeaf.oakclient.systems.modules.Module;
import net.minecraft.client.gui.screen.ingame.InventoryScreen;
import net.minecraft.network.packet.c2s.play.CloseHandledScreenC2SPacket;

import static me.leeeaf.oakclient.OakClientClient.mc;

public class XCarry extends Module{
    public XCarry() {
        super("XCarry", "Makes you able to carry items in your crafting slots", ()->true, true, Category.EXPLOIT);
    }

    @EventSubscribe(priority = EventPriority.LOWEST)
    public void onPacketSend(PacketEvent.Send event) {
        if(event.packet instanceof CloseHandledScreenC2SPacket){
            if(mc.currentScreen instanceof InventoryScreen){
                event.cancel();
            }
        }
    }
}
